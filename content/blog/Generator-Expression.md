---
external: false
title: "Generator Expression"
date: 2023-05-21
---

## 1. 제너레이터 표현식

파이썬에서 제너레이터는 iterator를 생성해주는 함수를 말합니다.  
제너레이터의 특징은 다음과 같습니다.

1. iterable한 순서가 지정된다.
2. 느슨하게 평가된다.
3. 함수의 내부 로컬 변수를 통해 내부상태가 유지된다.
4. 무한한 순서가 있는 객체를 모델링할 수 있다.
5. 자연스러운 스트림 처리를 위 파이프라인으로 구성할수 있다.

이러한 제너레이터 객체를 반환하는 표현식을 제너레이터 표현식이라고 합니다.  
예를 들어 다음과 같이 제너레이터 표현식을 정의할 수 있습니다.

```python
def test_generator():
    yield 0
    yield 1
    yield 2

for i in test_generator():
    print(i)
```

위의 코드의 실행 결과는 다음과 같습니다.  

```shell
0
1
2
```

이러한 결과는 다음과 같은 for 반복문을 통해 얻어지는 결과와 같습니다.  

```python
for i in range(3):
    print(i)
```

## 2. for 반복문과 제너레이터 표현식의 차이점

위에서 보는 바와 같이 for 반복문을 사용하는 것과 제너레이터 표현식을 사용하는 것 모두 같은 결과를 얻을 수 있습니다.  
이처럼 for 반복문과 제너레이터 표현식 모두 반복 작업을 사용할 때 사용이 가능합니다.  
그렇다면 두 방식의 차이는 무엇일까요? 바로 생성 방식의 차이입니다.  
for 반복문은 주어진 범위 내에서 반복하여 코드 블록을 실행합니다. 예를 들어 위에 보이는 코드에서 `for i in range(3)`은 0부터 2까지의 범위 내 숫자를 반복하면서 `print(i)`를 실행합니다.  
하지만 제너레이터 표현식은 이터레이터를 생성하는 함수이므로 값을 한 번에 하나씩 반환합니다. 'yield' 키워드를 사용하여 값을 생성하고 반환하게 됩니다.  
위의 코드에서 `test_generator()`는 `yield`라는 키워드를 사용하여 0, 1, 2 세 개의 값을 순서대로 생성하고 반환합니다. 이후 `for i in test_genterator()`는 `test_generator()`함수를 호출하여 제너레이터 객체를 생성하고 각 값에 대해 `print(i)`를 실행하게 됩니다.  
즉, for 반복문은 주어진 범위 내에서 반복하면서 코드를 실행하는데 사용되고, 제너레이터는 값을 한 번에 하나씩 생성하는 함수 또는 표현식으로 사용된다고 볼 수 있습니다.  

## 3. 제너레이터 표현식을 사용하는 이유

그렇다면 어떤 상황에 제너레이터 표현식을 사용해야 할까요?  
제너레이터는 다음과 같은 이점을 가집니다.  

1. 메모리 효율성: 제너레이터는 값을 한 번에 하나씩 생성하므로, 전체 시퀀스를 한꺼번에 메모리에 로드하는 것보다 효율적입니다. 특히 큰 데이터 집합을 처리해야 할 때 유용합니다. 제너레이터는 필요한 만큼의 값을 생성하고 사용한 후에는 해당 값을 버립니다.
2. 지연 평가(Lazy Evaluation): 제너레이터는 지연 평가를 수행합니다. 즉, 다음 값을 생성하기 위해 필요한 연산이 실행될 때까지 값을 생성하지 않습니다. 이는 계산이 필요한 순간에만 값을 생성하고 처리할 수 있도록 해줍니다. 이는 데이터의 크기가 크거나 계산 비용이 많이 드는 경우에 특히 유용합니다.
3. 무한 시퀀스 생성: 제너레이터를 사용하면 무한한 시퀀스를 생성할 수 있습니다. 예를 들어, 제너레이터를 사용하여 소수를 생성하거나, 피보나치 수열을 생성하는 등의 작업을 할 수 있습니다. 이는 제한된 메모리 공간에서도 무한한 시퀀스를 다룰 수 있도록 해줍니다.
4. 코드 간결성: 제너레이터 표현식은 코드를 간결하고 가독성이 좋게 만들어 줍니다. 제너레이터 표현식을 사용하면 반복 작업을 한 줄로 표현할 수 있습니다. 이는 코드의 길이를 줄이고 작업의 의도를 명확하게 전달할 수 있도록 해줍니다.
5. 함수형 프로그래밍: 제너레이터는 함수형 프로그래밍 스타일을 지원하는데, 데이터의 변환과 조작에 대한 파이프라인을 구성할 수 있습니다. 함수형 프로그래밍은 상태 변경이나 부작용을 최소화하고, 불변성과 조합성을 강조하는 프로그래밍 패러다임입니다. 제너레이터를 사용하면 함수형 프로그래밍의 원칙을 따르는 코드를 작성할 수 있습니다.

그러므로 제너레이터 표현식은 데이터 처리, 순회 작업, 무한 시퀸스 생성 등의 다양한 상황에서 활용할 수 있습니다.
